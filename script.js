(()=>{let e=document.getElementById("cards"),n=document.getElementById("card-template").content,t=document.createDocumentFragment(),a=(document.getElementById("busqueda"),"https://evening-taiga-78339.herokuapp.com");const r=(e=>{let n=e[e.length-1];return n?`/${n}`:"/"})(window.location.pathname.split("/"));console.log("ubicacion: ",r),window.addEventListener("load",(function(n){e.innerHTML='\n  <div class="d-flex justify-content-center">\n      <div class="spinner-border" role="status">\n        <span class="visually-hidden">Cargando...</span>\n      </div>\n  </div>\n  ',(async n=>{const t=await axios.get(`${a}/data${n}`);console.log("data por evento load: ",t.data);let r="";t.data.forEach((e=>{const n=e.url_image?e.url_image:"#";let t=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"});r+=`\n        <div class="col">\n          <div class="card m-2" style="width: 18rem;">\n            <img src='${n}' class='img-fluid card-img-top' alt='${e.name}'>\n            <div class="card-body">\n              <h5 class="card-title">${e.name}</h5>\n              <p class="card-text">${t.format(e.price)}</p>\n            </div>\n          </div>\n        </div>\n      `})),e.innerHTML=r})(r)})),document.addEventListener("submit",(async r=>{r.preventDefault();let o=r.target[0].value;console.log("producto a buscar: ",o);try{e.innerHTML='\n      <div class="d-flex justify-content-center">\n        <div class="spinner-border" role="status">\n          <span class="visually-hidden">Cargando...</span>\n        </div>\n      </div>\n        ';let r={producto:o.toLowerCase()},s=`${a}/search`,c=await axios.get(s,{params:r});console.log("data por evento submit: ",c);let l=c.data;console.log("resData: ",l),"No results"==l||0==l.length?e.innerHTML="<h2>Sin resultados</h2>":(l.forEach((e=>{const a=e.url_image?e.url_image:"#";let r=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"});n.querySelector("img").src=a,n.querySelector("img").alt=e.name,n.querySelector("h5").textContent=e.name,n.querySelector("p").textContent=r.format(e.price);let o=document.importNode(n,!0);t.appendChild(o)})),e.innerHTML="",e.appendChild(t))}catch(n){e.innerHTML="<p>Ocurri√≥ un error</p>"}}))})();